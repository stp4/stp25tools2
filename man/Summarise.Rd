% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarise.R
\name{Summarise}
\alias{Summarise}
\alias{Summarise_likert}
\alias{Summarise_likert_long}
\alias{Summarise_likert_wide}
\alias{Summarise_multi}
\alias{aggregat_likert}
\title{Summarise data with flexible aggregation and optional totals}
\usage{
Summarise(
  ...,
  fun = function(x) length(na.omit(x)),
  key = "variable",
  value = "value",
  na.action = na.pass,
  formula = NULL,
  include.total = FALSE,
  margins = include.total,
  margins_name = "Total",
  include.label = TRUE,
  names_vary = "slowest"
)

Summarise_likert(...)

Summarise_likert_long(...)

Summarise_likert_wide(...)

Summarise_multi(
  ...,
  type.wide = FALSE,
  use.level = 1,
  reverse.levels = FALSE,
  reorder.levels = NA
)

aggregat_likert(
  ...,
  grouping = NULL,
  include.total = FALSE,
  include.order = FALSE,
  decreasing = FALSE,
  reverse.levels = FALSE,
  exclude.levels = NULL,
  reorder.levels = NA,
  type.wide = TRUE,
  use.level = NULL,
  prepare.data = NULL
)
}
\arguments{
\item{...}{Variables or a formula passed to [Long()] to reshape data into long format
before summarisation.}

\item{fun}{Function to apply to each group (default: counts non-missing values via
`function(x) length(na.omit(x))`).}

\item{key}{Name of the column to hold variable names after reshaping (default: `"variable"`).}

\item{value}{Name of the column to hold measured values after reshaping (default: `"value"`).}

\item{na.action}{Function for handling missing values during aggregation
(default: [na.pass]).}

\item{formula}{Optional formula for reshaping the output to wide format.}

\item{include.total}{logical.}

\item{margins}{Logical or formula; if `TRUE`, compute totals by `key`, or if a formula is supplied,
use it to specify how margins are calculated.}

\item{margins_name}{Character string for the label used in total rows (default: `"Total"`).}

\item{include.label}{Logical; if `TRUE`, preserve variable labels in reshaping (passed to [Long()]).}

\item{names_vary}{"slowest" "fastest" pivot_wider: When names_from identifies a column (or columns) with multiple unique values}

\item{type.wide}{welches Format}

\item{use.level}{multiresponse}

\item{reverse.levels, exclude.levels, reorder.levels}{levels manupulieren}

\item{grouping}{vector.}

\item{include.order}{logical.}

\item{decreasing}{logical.}

\item{prepare.data}{prepare.data-Objekt}
}
\value{
A [tibble::tibble] containing the summarised data, optionally with totals and/or wide reshaping.

A \code{likert_summary} object (tibble) with grouped Likert data
}
\description{
An extended version of [stats::aggregate()] that works seamlessly with wide or long
data formats via [Long()]. It supports formula or variable name syntax, optional
label handling, and the addition of total/margins rows.

Summarizes Likert scale data into a structured format suitable for plotting.
Groups items and calculates frequency distributions.
}
\details{
The function:
1. Reshapes data to long format with [Long()].
2. Aggregates values by the specified formula or inferred grouping variables.
3. Optionally computes and appends totals (margins).
4. Optionally reshapes the result back to wide format via [tidyr::pivot_wider()].

If `fun` returns a matrix (e.g., multiple statistics), each statistic will be expanded into its own column.
}
\note{
Documentation created with assistance from ChatGPT.
}
\examples{
df <- data.frame(
  month = rep(1:3, 2),
  student = rep(c("Amy", "Bob"), each = 3),
  A = c(9, 7.1, 6.2, 8, 6.2, 9.4),
  B = c(6, 7.3, 8, 5, 6.9, 7)
)

Summarise(A + B ~ student, df,
          fun = function(x) render_f(
            c(mean = mean(x), sd = sd(x)),
            digits = 2
          ))

# Example output:

# student variable mean  sd
# <chr>   <fct>    <chr> <chr>
# 1 Amy     A        7.43  1.43
# 2 Amy     B        7.10  1.01
# 3 Bob     A        7.87  1.60
# 4 Bob     B        6.30  1.13


 Summarise(
  A + B ~ student,
  df,
  fun = function(x)
    render_f(c(mean = mean(x), sd = sd(x)), digits = 2),
  include.total = TRUE,
  key = "Note" ,
  formula = student ~ Note
)


Summarise(
  A + B ~ student,
  df,
  fun = function(x)
    render_f(c(mean = mean(x), sd = sd(x)), digits = 2),
  include.total = value ~ 1 ,
  key = "Note" ,
  # formula = student ~ Note
)
}
